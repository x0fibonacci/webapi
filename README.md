# webapi

**Тестовое задание (Rust)**

Необходимо создать веб сервер, который будет иметь функционал создания пользователя, авторизации по логину и паролю, изменение пользователя. По пользователю должна храниться следующая информация:</p>

- Имя</p>

- Логин (почтовый адрес)</p>

- Пароль</p>

- Возраст</p>

В качестве веб фреймворка должен выступать actix web, асинхронная среда выполнения tokio. Пользователи должны храниться в БД postgres. Сам Postgres должен быть запущен в docker, запускаться должен скриптом bash. Для работы с Postgres необходимо использовать crate sqlx. Из функционала должно быть:</p>

- 3 ручки API на создание, авторизацию и изменение пользователя. Создание пользователя не требует наличие JWT токена в запросе, остальные операции требуют. Пользователь может изменять только собственные данные в бд.</p>

- Пароль пользователя должен храниться в БД в зашифрованном виде (функцией sha-256). Secret должен загружаться из env при запуске сервера.</p>

- Функция проверки пароля не должна блокировать асинхронный executor.</p>

- Нужно написать Middleware для проверки JWT токена пользователя. Secret токена должен получаться из env при запуске приложения. Само значение точена должно быть в Header X-User-Access-Token http запроса.</p>

**Ошибки**:

- В случае не успешной авторизации должна возвращаться ошибка 401 с текстом authirization error.</p>

- 500 код на ошибку сервера</p>

- Ошибки в коде должны быть представлены в виде enum, который реализует трейт error для быстрого проброса ошибки в handler с помощью знака ?</p>

**Архитектура**:

Код Логически должен быть разделен на модули Контроллеры, Сервисы, Репозитории. Придерживаемся низкой связанности компонентов системы согласно чистой архитектуре.</p>

Код должен быть отформатирован и линтер clippy не должен выдавать предупреждений.</p>